import{N as b,r as h,bt as y,w as p,aD as g,a3 as F,e as x,bu as m,bv as v,bc as B,aG as C}from"./index-DZMgBGND.js";let i=0;const I={fullscreen:Boolean,noRouteFullscreenExit:Boolean},V=["update:fullscreen","fullscreen"];function A(){const r=b(),{props:n,emit:t,proxy:e}=r;let o,u,c;const s=h(!1);y(r)===!0&&p(()=>e.$route.fullPath,()=>{n.noRouteFullscreenExit!==!0&&l()}),p(()=>n.fullscreen,a=>{s.value!==a&&f()}),p(s,a=>{t("update:fullscreen",a),t("fullscreen",a)});function f(){s.value===!0?l():d()}function d(){s.value!==!0&&(s.value=!0,c=e.$el.parentNode,c.replaceChild(u,e.$el),document.body.appendChild(e.$el),i++,i===1&&document.body.classList.add("q-body--fullscreen-mixin"),o={handler:l},m.add(o))}function l(){s.value===!0&&(o!==void 0&&(m.remove(o),o=void 0),c.replaceChild(e.$el,u),s.value=!1,i=Math.max(0,i-1),i===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),e.$el.scrollIntoView!==void 0&&setTimeout(()=>{e.$el.scrollIntoView()})))}return g(()=>{u=document.createElement("span")}),F(()=>{n.fullscreen===!0&&d()}),x(l),Object.assign(e,{toggleFullscreen:f,setFullscreen:d,exitFullscreen:l}),{inFullscreen:s,toggleFullscreen:f}}function $(r){const n=Object.assign({noopener:!0},r),t=[];for(const e in n){const o=n[e];o===!0?t.push(e):(C(o)||typeof o=="string"&&o!=="")&&t.push(e+"="+o)}return t.join(",")}function w(r,n,t){let e=window.open;if(v.is.cordova===!0){if(cordova!==void 0&&cordova.InAppBrowser!==void 0&&cordova.InAppBrowser.open!==void 0)e=cordova.InAppBrowser.open;else if(navigator!==void 0&&navigator.app!==void 0)return navigator.app.loadUrl(r,{openExternal:!0})}const o=e(r,"_blank",$(t));if(o)return v.is.desktop&&o.focus(),o;n&&n()}const N=(r,n,t)=>{if(v.is.ios===!0&&window.SafariViewController!==void 0){window.SafariViewController.isAvailable(e=>{e?window.SafariViewController.show({url:r},B,n):w(r,n,t)});return}return w(r,n,t)};export{V as a,A as b,N as o,I as u};
