import{r as p,j as e,av as _,ai as I,u as b,h as A,B as u,aC as v,e5 as T,aB as k,e6 as F,I as f,e7 as y,e8 as D,e9 as L}from"./index-00b8501e.js";import{I as E}from"./input-690a8d87.js";import{L as w,T as R}from"./textarea-18fe628d.js";import{C as M}from"./checkbox-1c074ef2.js";const $=({name:d,invalidNameList:x,description:r,endpointName:l,maxLength:t=50,setName:n,setDescription:a,setEndpointName:o})=>{const[h,i]=p.useState(!1),[m,g]=p.useState(!0),j=s=>{const{value:N}=s.target;N.length>=t?i(!0):i(!1),n(N)},c=s=>{a(s.target.value)},S=s=>{const N=/^[a-zA-Z0-9_-]+$/.test(s.target.value)&&s.target.value.length<=t||s.target.value.length===0;g(N),o(s.target.value)},C=s=>s.target.select();return e.jsxs(e.Fragment,{children:[e.jsxs(w,{children:[e.jsxs("div",{className:"edit-flow-arrangement",children:[e.jsxs("span",{className:"font-medium",children:["Name",n?"":":"]})," ",h&&e.jsx("span",{className:"edit-flow-span",children:"Character limit reached"})]}),n?e.jsx(E,{className:"nopan nodelete nodrag noundo nocopy mt-2 font-normal",onChange:j,type:"text",name:"name",value:d??"",placeholder:"Flow name",id:"name",maxLength:t,onDoubleClickCapture:s=>{C(s)}}):e.jsx("span",{className:"font-normal text-muted-foreground word-break-break-word",children:d})]}),e.jsxs(w,{children:[e.jsx("div",{className:"edit-flow-arrangement mt-3",children:e.jsxs("span",{className:"font-medium",children:["Description",a?" (optional)":":"]})}),a?e.jsx(R,{name:"description",id:"description",onChange:c,value:r,placeholder:"Flow description",className:"mt-2 max-h-[100px] resize-none font-normal",rows:3,onDoubleClickCapture:s=>{C(s)}}):e.jsx("span",{className:_("font-normal text-muted-foreground word-break-break-word",r===""?"font-light italic":""),children:r===""?"No description":r})]}),o&&e.jsxs(w,{children:[e.jsxs("div",{className:"edit-flow-arrangement mt-3",children:[e.jsx("span",{className:"font-medium",children:"Endpoint Name"}),!m&&e.jsxs("span",{className:"edit-flow-span",children:["Invalid endpoint name. Use only letters, numbers, hyphens, and underscores (",t," characters max)."]})]}),e.jsx(E,{className:"nopan nodelete nodrag noundo nocopy mt-2 font-normal",onChange:S,type:"text",name:"endpoint_name",value:l??"",placeholder:"An alternative name to run the endpoint",maxLength:t,id:"endpoint_name",onDoubleClickCapture:s=>{C(s)}})]})]})},B=$,O=p.forwardRef((d,x)=>{const r=I(c=>c.version),l=b(c=>c.setNoticeData),[t,n]=p.useState(!1),a=A(c=>c.currentFlow);p.useEffect(()=>{h(a.name),m(a.description)},[a.name,a.description]);const[o,h]=p.useState(a.name),[i,m]=p.useState(a.description),[g,j]=p.useState(!1);return e.jsxs(u,{size:"smaller-h-full",open:g,setOpen:j,onSubmit:()=>{t?(v({id:a.id,data:a.data,description:i,name:o,last_tested_version:r,is_component:!1},o,i),l({title:T})):v(k({id:a.id,data:a.data,description:i,name:o,last_tested_version:r,is_component:!1}),o,i),j(!1)},children:[e.jsx(u.Trigger,{asChild:!0,children:d.children}),e.jsxs(u.Header,{description:F,children:[e.jsx("span",{className:"pr-2",children:"Export"}),e.jsx(f,{name:"Download",className:"h-6 w-6 pl-1 text-foreground","aria-hidden":"true"})]}),e.jsxs(u.Content,{children:[e.jsx(B,{name:o,description:i,setName:h,setDescription:m}),e.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[e.jsx(M,{id:"terms",checked:t,onCheckedChange:c=>{n(c)}}),e.jsx("label",{htmlFor:"terms",className:"export-modal-save-api text-sm",children:y})]}),e.jsx("span",{className:"mt-1 text-xs text-destructive",children:D})]}),e.jsx(u.Footer,{submit:{label:"Export"}})]})}),K=O;function U({isMac:d,hasShift:x,filteredShortcut:r,shortcutWPlus:l}){return x?e.jsxs("span",{className:"flex items-center justify-center gap-0.5 text-xs",children:[d?e.jsx(f,{name:"Command",className:"h-3 w-3"}):r[0],e.jsx(f,{name:"ArrowBigUp",className:"h-4 w-4"}),r.map((t,n)=>n>0?t.toUpperCase():null)]}):e.jsxs("span",{className:"flex items-center justify-center gap-0.5 text-xs",children:[l[0].toLowerCase()==="space"?"Space":l[0].length<=1?l[0]:d?e.jsx(f,{name:"Command",className:"h-3 w-3"}):e.jsx("span",{className:"flex items-center",children:l[0]}),l.map((t,n)=>n>0?e.jsx("span",{className:"flex items-center",children:t.toUpperCase()},n):null)]})}function X({value:d,icon:x,style:r,dataTestId:l,ping:t,shortcut:n}){let a=!1;const o=n==null?void 0:n.split("+");o.forEach(m=>{m.toLowerCase().includes("shift")&&(a=!0)});const h=o.filter(m=>!m.toLowerCase().includes("shift"));let i=[];return a||(i=h.join("+").split(" ")),e.jsxs("div",{className:`flex ${r}`,"data-testid":l,children:[e.jsx(f,{name:x,className:`mr-2 ${x==="Share3"?"absolute left-2 top-[0.25em] h-6 w-6":"mt-[0.15em] h-4 w-4"} ${t&&"animate-pulse text-green-500"}`}),e.jsx("span",{className:`${x==="Share3"?"ml-[1.8em]":" "}`,children:d}),e.jsx("span",{className:"absolute right-2 top-[0.43em] flex items-center rounded-sm bg-muted px-1.5 py-[0.1em] text-muted-foreground",children:e.jsx(U,{isMac:L,hasShift:a,filteredShortcut:h,shortcutWPlus:i})})]})}export{K as E,U as R,X as T,B as a};
