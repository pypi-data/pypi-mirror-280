import{j as e,P as w,d,l as D,e as F,m as P,n as S,o as C,t as E,h as M,p as T,a as L,k as h,q as I,f as g}from"./index-45e2979d.js";import{u as z,a as O,M as A,C as R,b,L as k}from"./context-7d3868a2.js";import{r as f,T as B}from"./Tab-0b79b8e7.js";import{v as p,M as q,P as H}from"./disclosure-4af2941a.js";import $ from"./ModelLineage-f83a4b5f.js";import{S as Q}from"./SplitPane-b09620dc.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./SearchList-14ae8126.js";import"./popover-fc660b3f.js";const j=function({model:s,withModel:a=!0,withDescription:t=!0,withColumns:o=!0,withCode:c=!0,withQuery:n=!0}){const{handleClickModel:r}=z(),u=O(s.path,i=>{r==null||r(i.name)});return e.jsxs(N,{children:[a&&e.jsx(m,{headline:"Model",defaultOpen:!0,children:e.jsxs("ul",{className:"px-2 w-full",children:[e.jsx(x,{name:"Path",value:s.path.split(w).slice(0,-1).join(w)}),e.jsx(x,{name:"Name",value:s.name}),e.jsx(x,{name:"Dialect",value:s.dialect}),e.jsx(x,{name:"Type",value:s.type}),Object.entries(s.details??{}).map(([i,y])=>e.jsx(x,{name:i.replaceAll("_"," "),value:y,isCapitalize:!0},i))]})}),t&&e.jsx(m,{headline:"Description",defaultOpen:!0,children:s.description??"No description"}),o&&e.jsx(m,{headline:"Columns",children:e.jsx(A,{className:"max-h-[15rem]",nodeId:s.name,columns:s.columns,disabled:(s==null?void 0:s.type)==="python",withHandles:!1,withSource:!1,withDescription:!0,limit:10})}),(c||n)&&e.jsx(m,{headline:"SQL",children:e.jsx(R,{path:s.path,children:({file:i})=>e.jsxs(f.Group,{defaultIndex:n?1:0,children:[e.jsx(B,{list:[c&&"Source Code",n&&"Compiled Query"].filter(Boolean),className:"!justify-center"}),e.jsxs(f.Panels,{className:"h-full w-full overflow-hidden bg-neutral-10 mt-4 rounded-lg",children:[c&&e.jsx(f.Panel,{unmount:!1,className:d("flex flex-col w-full h-full relative px-2 overflow-hidden p-2","ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2"),children:e.jsx(b,{content:i.content,type:i.extension,extensions:u,className:"text-xs"})}),n&&e.jsx(f.Panel,{unmount:!1,className:"w-full h-full ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2 p-2",children:e.jsx(b,{type:D.SQL,content:s.sql??"",extensions:u,className:"text-xs"})})]})]})})})]})};function _({headline:l}){return e.jsx("div",{className:"text-lg font-bold whitespace-nowrap w-full",id:l,children:e.jsx("h3",{className:"py-2",children:l})})}function G(){return e.jsx(N,{className:"font-bold whitespace-nowrap w-full h-full",children:e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:"Documentation Not Found"})})}function N({children:l,className:s}){return e.jsx("div",{className:d("w-full h-full rounded-xl",s),children:e.jsx("div",{className:"w-full h-full py-4 rounded-xl",children:e.jsx("div",{className:"w-full h-full overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:l})})})}function m({children:l,className:s,headline:a,defaultOpen:t=!1}){return e.jsx("div",{className:"px-4",children:e.jsx(p,{defaultOpen:t,children:({open:o})=>e.jsxs(e.Fragment,{children:[e.jsxs(p.Button,{className:d("flex items-center justify-between rounded-lg text-left w-full bg-neutral-10 px-3 mb-2",s),children:[e.jsx(_,{headline:a}),e.jsx("div",{children:o?e.jsx(q,{className:"h-6 w-6 text-neutral-50"}):e.jsx(H,{className:"h-6 w-6 text-neutral-50"})})]}),e.jsx(p.Panel,{className:"pb-2 overflow-hidden",children:e.jsx("div",{className:"px-4 mb-2 text-xs",children:l})})]})})})}function x({className:l,name:s,value:a,isHighlighted:t=!1,isCapitalize:o=!1,children:c}){return e.jsxs("li",{className:d("w-full border-b border-primary-10 py-1 mb-1",l),children:[F(a)?e.jsxs(e.Fragment,{children:[e.jsx("strong",{className:"mr-2 text-xs capitalize",children:s}),a.map((n,r)=>e.jsx("span",{className:"w-full items-center flex ml-2 mb-1",children:e.jsx("ul",{className:"w-full flex ml-3 whitespace-nowrap",children:Object.entries(n).map(([u,i])=>e.jsx("li",{className:"flex",children:e.jsxs("div",{className:"flex text-xs",children:[e.jsxs("strong",{className:"mr-2",children:[u,":"]}),e.jsx("p",{className:"text-xs rounded text-neutral-500 dark:text-neutral-400",children:v(i)}),e.jsx("span",{className:"px-2 text-neutral-20",children:"|"})]})},u))})},r))]}):e.jsxs("div",{className:"flex justify-between text-xs whitespace-nowrap",children:[e.jsx("strong",{className:d("mr-2",o&&"capitalize",t&&"text-brand-500"),children:s}),e.jsx("p",{className:"text-xs rounded text-neutral-500 dark:text-neutral-400",children:v(a)})]}),e.jsx("p",{className:"text-xs ",children:c})]})}j.NotFound=G;j.Container=N;const V=j;function v(l){const s=new Date(l),a=P(l)&&!isNaN(s.getTime()),t=typeof l=="boolean";return t&&S(l)?"True":t&&C(l)?"False":a?E(s):String(l)}function le(){const{modelName:l}=M(),s=T(),a=L(n=>n.models),t=h(l)?void 0:a.get(l);function o(n){const r=a.get(n);h(r)||s(g.IdeDocsModels+"/"+r.name)}function c(n){console.log(n==null?void 0:n.message)}return e.jsx("div",{className:"flex overflow-auto w-full h-full",children:h(t)?e.jsx(I,{link:g.IdeDocs,descritpion:l==null?void 0:`Model ${l} Does Not Exist`,message:"Back To Docs"}):e.jsx(k,{handleClickModel:o,handleError:c,children:e.jsxs(Q,{className:"flex h-full w-full",sizes:[50,50],minSize:0,snapOffset:0,children:[e.jsx("div",{className:"flex flex-col h-full dark:bg-theme-lighter round",children:e.jsx(V,{model:t,withQuery:t.type==="sql"})}),e.jsx("div",{className:"flex flex-col h-full px-2",children:e.jsx($,{model:t},t.id)})]})})})}export{le as default};
