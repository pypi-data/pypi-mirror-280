import{jx as t,jY as e,jZ as r,jv as n,j_ as s,ju as i,gA as o,gL as a,j$ as u,jt as h,gt as c,gF as d,gK as f,gv as l,gH as _,k0 as b,k1 as g,jr as v,k2 as p,k3 as j,k4 as m,k5 as y,k6 as w,gJ as C}from"./index-C_Qp7NA-.js";import{z as E,A,B as N,C as L,D,E as O,F,G as x,H as M,I as P}from"./mermaid-CrfXAzNi.js";import{b as S,a as k,h as I,c as U}from"./_baseEach-DGfQS7KC.js";import{e as B,b as G,f as z}from"./transform-DWV2QnKo.js";function H(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function R(t,e,r,n){for(var s=t.length,i=r+(n?1:-1);n?i--:++i<s;)if(e(t[i],i,t))return i;return-1}function V(t){return t!=t}function W(t,e){return!!(null==t?0:t.length)&&function(t,e,r){return e==e?function(t,e,r){for(var n=r-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}(t,e,r):R(t,V,r)}(t,e,0)>-1}var $=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)n(r,e(t)),t=N(t);return r}:r;function J(t){return s(t,A,$)}var K=Object.prototype.hasOwnProperty;var Y=/\w*$/;var Z=i?i.prototype:void 0,q=Z?Z.valueOf:void 0;var Q="[object Boolean]",T="[object Date]",X="[object Map]",tt="[object Number]",et="[object RegExp]",rt="[object Set]",nt="[object String]",st="[object Symbol]",it="[object ArrayBuffer]",ot="[object DataView]",at="[object Float32Array]",ut="[object Float64Array]",ht="[object Int8Array]",ct="[object Int16Array]",dt="[object Int32Array]",ft="[object Uint8Array]",lt="[object Uint8ClampedArray]",_t="[object Uint16Array]",bt="[object Uint32Array]";function gt(t,e,r){var n,s,i,o=t.constructor;switch(e){case it:return L(t);case Q:case T:return new o(+t);case ot:return function(t,e){var r=e?L(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case at:case ut:case ht:case ct:case dt:case ft:case lt:case _t:case bt:return D(t,r);case X:return new o;case tt:case nt:return new o(t);case et:return(i=new(s=t).constructor(s.source,Y.exec(s))).lastIndex=s.lastIndex,i;case rt:return new o;case st:return n=t,q?Object(q.call(n)):{}}}var vt=u&&u.isMap,pt=vt?h(vt):function(t){return o(t)&&"[object Map]"==a(t)};var jt=u&&u.isSet,mt=jt?h(jt):function(t){return o(t)&&"[object Set]"==a(t)},yt="[object Arguments]",wt="[object Function]",Ct="[object Object]",Et={};function At(r,n,s,i,o,u){var h,g=1&n,v=2&n,p=4&n;if(s&&(h=o?s(r,i,o,u):s(r)),void 0!==h)return h;if(!c(r))return r;var j=_(r);if(j){if(h=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&K.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(r),!g)return O(r,h)}else{var m=a(r),y=m==wt||"[object GeneratorFunction]"==m;if(d(r))return F(r,g);if(m==Ct||m==yt||y&&!o){if(h=v||y?{}:x(r),!g)return v?function(t,e){return E(t,$(t),e)}(r,function(t,e){return t&&E(e,A(e),t)}(h,r)):function(t,r){return E(t,e(t),r)}(r,function(e,r){return e&&E(r,t(r),e)}(h,r))}else{if(!Et[m])return o?r:{};h=gt(r,m,g)}}u||(u=new f);var w=u.get(r);if(w)return w;u.set(r,h),mt(r)?r.forEach((function(t){h.add(At(t,n,s,t,r,u))})):pt(r)&&r.forEach((function(t,e){h.set(e,At(t,n,s,e,r,u))}));var C=j?void 0:(p?v?J:b:v?A:t)(r);return H(C||r,(function(t,e){C&&(t=r[e=t]),l(h,e,At(t,n,s,e,r,u))})),h}function Nt(t,e,r){for(var n=-1,s=null==t?0:t.length;++n<s;)if(r(e,t[n]))return!0;return!1}function Lt(t){return"function"==typeof t?t:B}function Dt(t,e){return(_(t)?H:S)(t,Lt(e))}function Ot(t,e){var r=[];return S(t,(function(t,n,s){e(t,n,s)&&r.push(t)})),r}function Ft(t,e){return(_(t)?g:Ot)(t,k(e))}Et[yt]=Et["[object Array]"]=Et["[object ArrayBuffer]"]=Et["[object DataView]"]=Et["[object Boolean]"]=Et["[object Date]"]=Et["[object Float32Array]"]=Et["[object Float64Array]"]=Et["[object Int8Array]"]=Et["[object Int16Array]"]=Et["[object Int32Array]"]=Et["[object Map]"]=Et["[object Number]"]=Et[Ct]=Et["[object RegExp]"]=Et["[object Set]"]=Et["[object String]"]=Et["[object Symbol]"]=Et["[object Uint8Array]"]=Et["[object Uint8ClampedArray]"]=Et["[object Uint16Array]"]=Et["[object Uint32Array]"]=!0,Et["[object Error]"]=Et[wt]=Et["[object WeakMap]"]=!1;var xt=Object.prototype.hasOwnProperty;function Mt(t,e){return null!=t&&xt.call(t,e)}function Pt(t,e){return null!=t&&I(t,e,Mt)}function St(e){return null==e?[]:function(t,e){return v(e,(function(e){return t[e]}))}(e,t(e))}function kt(t){return void 0===t}function It(t,e,r,n,s){return s(t,(function(t,s,i){r=n?(n=!1,t):e(r,t,s,i)})),r}function Ut(t,e,r){var n=_(t)?p:It,s=arguments.length<3;return n(t,k(e),r,s,S)}var Bt=j&&1/m(new j([,-0]))[1]==1/0?function(t){return new j(t)}:function(){};var Gt=G((function(t){return function(t,e,r){var n=-1,s=W,i=t.length,o=!0,a=[],u=a;if(r)o=!1,s=Nt;else if(i>=200){var h=e?null:Bt(t);if(h)return m(h);o=!1,s=w,u=new y}else u=e?[]:a;t:for(;++n<i;){var c=t[n],d=e?e(c):c;if(c=r||0!==c?c:0,o&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue t;e&&u.push(d),a.push(c)}else s(u,d,r)||(u!==a&&u.push(d),a.push(c))}return a}(U(t,1,M,!0))})),zt="\0",Ht="\0",Rt="";class Vt{constructor(t={}){this._isDirected=!Pt(t,"directed")||t.directed,this._isMultigraph=!!Pt(t,"multigraph")&&t.multigraph,this._isCompound=!!Pt(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=z(void 0),this._defaultEdgeLabelFn=z(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Ht]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return C(t)||(t=z(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return t(this._nodes)}sources(){var t=this;return Ft(this.nodes(),(function(e){return P(t._in[e])}))}sinks(){var t=this;return Ft(this.nodes(),(function(e){return P(t._out[e])}))}setNodes(t,e){var r=arguments,n=this;return Dt(t,(function(t){r.length>1?n.setNode(t,e):n.setNode(t)})),this}setNode(t,e){return Pt(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=Ht,this._children[t]={},this._children[Ht][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return Pt(this._nodes,t)}removeNode(e){var r=this;if(Pt(this._nodes,e)){var n=function(t){r.removeEdge(r._edgeObjs[t])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],Dt(this.children(e),(function(t){r.setParent(t)})),delete this._children[e]),Dt(t(this._in[e]),n),delete this._in[e],delete this._preds[e],Dt(t(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(kt(e))e=Ht;else{for(var r=e+="";!kt(r);r=this.parent(r))if(r===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var e=this._parent[t];if(e!==Ht)return e}}children(e){if(kt(e)&&(e=Ht),this._isCompound){var r=this._children[e];if(r)return t(r)}else{if(e===Ht)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var r=this._preds[e];if(r)return t(r)}successors(e){var r=this._sucs[e];if(r)return t(r)}neighbors(t){var e=this.predecessors(t);if(e)return Gt(e,this.successors(t))}isLeaf(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length}filterNodes(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var r=this;Dt(this._nodes,(function(r,n){t(n)&&e.setNode(n,r)})),Dt(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,r.edge(t))}));var n={};function s(t){var i=r.parent(t);return void 0===i||e.hasNode(i)?(n[t]=i,i):i in n?n[i]:s(i)}return this._isCompound&&Dt(e.nodes(),(function(t){e.setParent(t,s(t))})),e}setDefaultEdgeLabel(t){return C(t)||(t=z(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return St(this._edgeObjs)}setPath(t,e){var r=this,n=arguments;return Ut(t,(function(t,s){return n.length>1?r.setEdge(t,s,e):r.setEdge(t,s),s})),this}setEdge(){var t,e,r,n,s=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(t=i.v,e=i.w,r=i.name,2===arguments.length&&(n=arguments[1],s=!0)):(t=i,e=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],s=!0)),t=""+t,e=""+e,kt(r)||(r=""+r);var o=Jt(this._isDirected,t,e,r);if(Pt(this._edgeLabels,o))return s&&(this._edgeLabels[o]=n),this;if(!kt(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[o]=s?n:this._defaultEdgeLabelFn(t,e,r);var a=function(t,e,r,n){var s=""+e,i=""+r;if(!t&&s>i){var o=s;s=i,i=o}var a={v:s,w:i};n&&(a.name=n);return a}(this._isDirected,t,e,r);return t=a.v,e=a.w,Object.freeze(a),this._edgeObjs[o]=a,Wt(this._preds[e],t),Wt(this._sucs[t],e),this._in[e][o]=a,this._out[t][o]=a,this._edgeCount++,this}edge(t,e,r){var n=1===arguments.length?Kt(this._isDirected,arguments[0]):Jt(this._isDirected,t,e,r);return this._edgeLabels[n]}hasEdge(t,e,r){var n=1===arguments.length?Kt(this._isDirected,arguments[0]):Jt(this._isDirected,t,e,r);return Pt(this._edgeLabels,n)}removeEdge(t,e,r){var n=1===arguments.length?Kt(this._isDirected,arguments[0]):Jt(this._isDirected,t,e,r),s=this._edgeObjs[n];return s&&(t=s.v,e=s.w,delete this._edgeLabels[n],delete this._edgeObjs[n],$t(this._preds[e],t),$t(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this}inEdges(t,e){var r=this._in[t];if(r){var n=St(r);return e?Ft(n,(function(t){return t.v===e})):n}}outEdges(t,e){var r=this._out[t];if(r){var n=St(r);return e?Ft(n,(function(t){return t.w===e})):n}}nodeEdges(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))}}function Wt(t,e){t[e]?t[e]++:t[e]=1}function $t(t,e){--t[e]||delete t[e]}function Jt(t,e,r,n){var s=""+e,i=""+r;if(!t&&s>i){var o=s;s=i,i=o}return s+Rt+i+Rt+(kt(n)?zt:n)}function Kt(t,e){return Jt(t,e.v,e.w,e.name)}Vt.prototype._nodeCount=0,Vt.prototype._edgeCount=0;export{Vt as G,R as a,At as b,Lt as c,Ft as d,Dt as f,Pt as h,kt as i,Ut as r,St as v};
