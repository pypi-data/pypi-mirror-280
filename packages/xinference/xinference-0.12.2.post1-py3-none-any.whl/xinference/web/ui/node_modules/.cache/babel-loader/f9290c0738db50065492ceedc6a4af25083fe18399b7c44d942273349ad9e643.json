{"ast":null,"code":"import _toConsumableArray from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{AddCircle}from'@mui/icons-material';import DeleteIcon from'@mui/icons-material/Delete';import{Alert,Box,IconButton,Snackbar,TextField}from'@mui/material';import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddPair=function AddPair(_ref){var customData=_ref.customData,onGetArr=_ref.onGetArr,onJudgeArr=_ref.onJudgeArr;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openSnackbar=_useState2[0],setOpenSnackbar=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),arr=_useState4[0],setArr=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),arrId=_useState6[0],setArrId=_useState6[1];var _useState7=useState(-1),_useState8=_slicedToArray(_useState7,2),defaultIndex=_useState8[0],setDefaultIndex=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isNotUniqueKey=_useState10[0],setIsNotUniqueKey=_useState10[1];useEffect(function(){onGetArr(arr);},[arr]);var updateArr=function updateArr(index,type,newValue){setArr(arr.map(function(pair,subIndex){if(subIndex===index){return _objectSpread(_objectSpread({},pair),{},_defineProperty({},type,newValue));}return pair;}));if(type===customData.key){setDefaultIndex(-1);setIsNotUniqueKey(false);arr.forEach(function(pair){if(pair[customData.key]===newValue){setDefaultIndex(index);setIsNotUniqueKey(true);}});}};var handleDeleteArr=function handleDeleteArr(index){setDefaultIndex(-1);setArr(arr.filter(function(_,subIndex){return index!==subIndex;}));onGetArr(arr);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',margin:'20px 0 0 15px'},children:[/*#__PURE__*/_jsx(\"div\",{children:customData.title}),/*#__PURE__*/_jsx(IconButton,{color:\"primary\",onClick:function onClick(){setArrId(arrId+1);var obj={id:arrId};obj[customData.key]='';obj[customData.value]='';onJudgeArr(arr,[customData.key,customData.value])?setArr([].concat(_toConsumableArray(arr),[obj])):setOpenSnackbar(true);},children:/*#__PURE__*/_jsx(AddCircle,{})})]}),/*#__PURE__*/_jsx(Box,{children:arr.map(function(item,index){return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginTop:'10px',marginLeft:'10px'},children:[/*#__PURE__*/_jsx(TextField,{label:customData.key,value:item[customData.key],onChange:function onChange(e){updateArr(index,customData.key,e.target.value);},style:{width:'44%'}}),/*#__PURE__*/_jsx(TextField,{label:customData.value,value:item[customData.value],onChange:function onChange(e){updateArr(index,customData.value,e.target.value);},style:{width:'44%'}}),/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"delete\",onClick:function onClick(){return handleDeleteArr(index);},style:{marginLeft:'10px'},children:/*#__PURE__*/_jsx(DeleteIcon,{})})]}),isNotUniqueKey&&defaultIndex===index&&/*#__PURE__*/_jsxs(Alert,{severity:\"error\",children:[customData.key,\" must be unique\"]})]},item.id);})})]}),/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:'top',horizontal:'center'},open:openSnackbar,onClose:function onClose(){return setOpenSnackbar(false);},message:\"Please fill in the complete parameters before adding!!\"},'top'+'center')]});};export default AddPair;","map":{"version":3,"names":["AddCircle","DeleteIcon","Alert","Box","IconButton","Snackbar","TextField","React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","AddPair","_ref","customData","onGetArr","onJudgeArr","_useState","_useState2","_slicedToArray","openSnackbar","setOpenSnackbar","_useState3","_useState4","arr","setArr","_useState5","_useState6","arrId","setArrId","_useState7","_useState8","defaultIndex","setDefaultIndex","_useState9","_useState10","isNotUniqueKey","setIsNotUniqueKey","updateArr","index","type","newValue","map","pair","subIndex","_objectSpread","_defineProperty","key","forEach","handleDeleteArr","filter","_","children","style","display","alignItems","margin","title","color","onClick","obj","id","value","concat","_toConsumableArray","item","justifyContent","marginTop","marginLeft","label","onChange","e","target","width","severity","anchorOrigin","vertical","horizontal","open","onClose","message"],"sources":["/home/runner/work/inference/inference/xinference/web/ui/src/scenes/launch_model/components/addPair.js"],"sourcesContent":["import { AddCircle } from '@mui/icons-material'\nimport DeleteIcon from '@mui/icons-material/Delete'\nimport { Alert, Box, IconButton, Snackbar, TextField } from '@mui/material'\nimport React, { useEffect, useState } from 'react'\n\nconst AddPair = ({ customData, onGetArr, onJudgeArr }) => {\n  const [openSnackbar, setOpenSnackbar] = useState(false)\n  const [arr, setArr] = useState([])\n  const [arrId, setArrId] = useState(0)\n  const [defaultIndex, setDefaultIndex] = useState(-1)\n  const [isNotUniqueKey, setIsNotUniqueKey] = useState(false)\n\n  useEffect(() => {\n    onGetArr(arr)\n  }, [arr])\n\n  const updateArr = (index, type, newValue) => {\n    setArr(\n      arr.map((pair, subIndex) => {\n        if (subIndex === index) {\n          return { ...pair, [type]: newValue }\n        }\n        return pair\n      })\n    )\n    if (type === customData.key) {\n      setDefaultIndex(-1)\n      setIsNotUniqueKey(false)\n      arr.forEach((pair) => {\n        if (pair[customData.key] === newValue) {\n          setDefaultIndex(index)\n          setIsNotUniqueKey(true)\n        }\n      })\n    }\n  }\n\n  const handleDeleteArr = (index) => {\n    setDefaultIndex(-1)\n    setArr(\n      arr.filter((_, subIndex) => {\n        return index !== subIndex\n      })\n    )\n    onGetArr(arr)\n  }\n\n  return (\n    <div>\n      <Box>\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            margin: '20px 0 0 15px',\n          }}\n        >\n          <div>{customData.title}</div>\n          <IconButton\n            color=\"primary\"\n            onClick={() => {\n              setArrId(arrId + 1)\n              let obj = { id: arrId }\n              obj[customData.key] = ''\n              obj[customData.value] = ''\n              onJudgeArr(arr, [customData.key, customData.value])\n                ? setArr([...arr, obj])\n                : setOpenSnackbar(true)\n            }}\n          >\n            <AddCircle />\n          </IconButton>\n        </div>\n        <Box>\n          {arr.map((item, index) => {\n            return (\n              <Box key={item.id}>\n                <div\n                  style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    marginTop: '10px',\n                    marginLeft: '10px',\n                  }}\n                >\n                  <TextField\n                    label={customData.key}\n                    value={item[customData.key]}\n                    onChange={(e) => {\n                      updateArr(index, customData.key, e.target.value)\n                    }}\n                    style={{ width: '44%' }}\n                  />\n                  <TextField\n                    label={customData.value}\n                    value={item[customData.value]}\n                    onChange={(e) => {\n                      updateArr(index, customData.value, e.target.value)\n                    }}\n                    style={{ width: '44%' }}\n                  />\n                  <IconButton\n                    aria-label=\"delete\"\n                    onClick={() => handleDeleteArr(index)}\n                    style={{ marginLeft: '10px' }}\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                </div>\n                {isNotUniqueKey && defaultIndex === index && (\n                  <Alert severity=\"error\">\n                    {customData.key} must be unique\n                  </Alert>\n                )}\n              </Box>\n            )\n          })}\n        </Box>\n      </Box>\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={openSnackbar}\n        onClose={() => setOpenSnackbar(false)}\n        message=\"Please fill in the complete parameters before adding!!\"\n        key={'top' + 'center'}\n      />\n    </div>\n  )\n}\n\nexport default AddPair\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}