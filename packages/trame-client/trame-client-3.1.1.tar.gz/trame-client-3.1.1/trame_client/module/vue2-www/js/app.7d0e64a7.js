(function(){"use strict";var e={7660:function(e,t,n){var s=n(9026),r=(n(3964),n(429),n(6409),Vue),i=n.n(r),a=function(){var e=this,t=e._self._c;return t("trame-connect",{attrs:{"use-url":"","forward-errors":""}},[t("trame-template",{attrs:{"use-url":""}})],1)},o=[],l=function(){var e=this;e._self._c;return e.ready?e._t("default"):e._e()},c=[],u=(n(560),n(6265),n(3843),n(8730),n(9307),n(2826),n(4043),n(7267),n(6532),n(9543)),h=n(5432),m=n(7534),d=e=>({getArray(t,n=!0){return e.call("viewport.geometry.array.get",[t,n]).then((e=>e.buffer?new Blob([e]):e))},getViewState(t,n=!1){return e.call("viewport.geometry.view.get.state",[t,n])},addViewObserver(t){return e.call("viewport.geometry.view.observer.add",[t])},removeViewObserver(t){return e.call("viewport.geometry.view.observer.remove",[t])},subscribeToViewChange(t){return e.subscribe("viewport.geometry.view.subscription",t)},unsubscribe(t){return e.unsubscribe(t)}}),p=e=>({lifeCycleUpdate(t){return e.call("trame.lifecycle.update",[t])},sendError(t){return e.call("trame.error.client",[t])},getState(){return e.call("trame.state.get",[])},trigger(t,n=[],s={}){return e.call("trame.trigger",[t,n,s])},updateState(t){return e.call("trame.state.update",[t])},subscribeToStateUpdate(t){return e.subscribe("trame.state.topic",t)},subscribeToActions(t){return e.subscribe("trame.actions.topic",t)},unsubscribe(t){return e.unsubscribe(t)}}),f={SyncView:d,Trame:p};m.ZP.setSmartConnectClass(h.ZP);const y={},g={"http:":"ws:","https:":"wss:","ws:":"ws:","wss:":"wss:"},v=["unsubscribe","subscribeToViewChange","subscribeToStateUpdate","subscribeToActions","subscribeToViewChange"];function b(e){const t=(0,s.Z)({},e);if(t.sessionURL){let e=t.sessionURL.toLowerCase();const n=window.location;if(e.includes("use_")){const t=new URL(e);t.protocol=g[n.protocol],e=t.toString()}const s={use_hostname:n.hostname,use_host:n.host};for(const[t,r]of Object.entries(s))e=e.replaceAll(t,r);t.sessionURL=e}t.application=document.querySelector("html").dataset.appName||t.application;const n=document.querySelector("html").dataset.sessionManagerUrl||t.sessionManagerURL;return n&&(t.sessionManagerURL=n),t.useUrl?(0,s.Z)((0,s.Z)({},t),u.Z.extractURLParameters()):t}function w(){return m.ZP.newInstance({protocols:f,configDecorator:b,notBusyList:v})}function T(e){var t;let n=null===(t=y[e])||void 0===t?void 0:t.client;if(!n){n=w();const s=[],r={type:"created",message:"Client connected..."};function i(t){y[e].status=t}y[e]={client:n,status:r,subscriptions:s},s.push(n.onConnectionError((e=>{var t;i({type:"Connection error",message:null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.error})}))),s.push(n.onConnectionClose((e=>{var t;i({type:"Connection closed",message:null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.error})})))}return n}function _(e){y[e]=null}function C(e){return y[e].status}var S={getClient:T,resetClient:_,getStatus:C,configDecorator:b},$=(n(8324),n(9274)),x=n(7117);n(5137);const R={};function O(e,t){return e.priority-t.priority}function L(e){R.addAttachement=e}const U={priority:0,async decorate(e){if(null===e||void 0===e)return e;if(e.constructor&&e.constructor===File){const{name:t,lastModified:n,size:s,type:r}=e,i=await new Promise((t=>{const n=new FileReader;n.addEventListener("loadend",(()=>{t(n.result)})),n.readAsArrayBuffer(e)})),a=new DataView(i);return{name:t,lastModified:n,size:s,type:r,content:a,_filter:["content"]}}return e}},A={priority:0,async decorate(e){if(null===e||void 0===e)return e;if("string"===typeof e)return e;if(e.constructor&&e.constructor===FileList||e.length){const t=[];for(let n=0;n<e.length;n++)t.push(await U.decorate(e[n]));return t}return e}},k={priority:0,async decorate(e){if(null===e||void 0===e)return e;if("string"===typeof e)return e;if(e.constructor&&e.constructor===Object){const t={},n=Object.keys(e);for(let s=0;s<n.length;s++){const r=n[s];t[r]=e[r],t[r]=await A.decorate(t[r]),t[r]=await U.decorate(t[r])}return t}return e}},j=[U,A,k];function N(e){j.push(e),j.sort(O)}async function V(e){let t=e;for(let n=0;n<j.length;n++){if(null===t||void 0===t)return t;t=await j[n].decorate(t)}return t}const E=["type","key","keyCode","controlKey","altKey","shiftKey","position","spinX","spinY","pixelX","pixelY"];function B(e){const t={};for(let n=0;n<E.length;n++){const s=E[n];s in e&&(t[s]=e[s])}return t}var Z={event:B};n(7389);function I(e,t=[],n=1e3,s=2){if(null===e)return null;for(let r=0;r<t.length;r++){const i=Array.isArray(n)?n[r]:n,a=t[r];if(!(e>i))return`${e.toFixed(s)} ${a}`;e/=i}return`${e.toFixed(s)} ${n[n.length-1]}`}function D(e,t=2){return I(e,["B","KB","MB","GB","TB","PB"],1024,t)}var M={number:I,bytes:D};async function P(e,t,n="application/octet-stream"){const s=await Promise.resolve(t),r=new Blob([s],{type:n}),i=URL.createObjectURL(r),a=document.createElement("a");a.setAttribute("href",i),a.setAttribute("download",e),document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout((()=>URL.revokeObjectURL(i)),1e3)}function H(e,t=window){let n=t;const s=e.split(".");for(let r=0;r<s.length;r++)n=n[s[r]];return n}function K(e){try{return JSON.stringify(e),e}catch(s){}const t={},n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r],a=e[i];if(Array.isArray(a))t[i]=a.map(K);else try{JSON.stringify(a),t[i]=a}catch(s){continue}}return t}function z(e,t,n){const s={id:e},r=t?`${t}: `:"";return Array.isArray(n)?(s.name=`${r}[]`,n.length&&(s.children=[]),s):null!==n&&n?"function"===typeof n?(s.name=`${r}function`,s):"object"===typeof n?(s.name=`${r}{}`,Object.keys(n).length&&(s.children=[]),s):(s.name=`${r}${n}`,s):(s.name=`${r}${n}`,s)}function J(e,t,n,s){const r=z(t,n,s);e.push(r),r.children&&F(t,r.children,s)}function F(e,t,n){if(Array.isArray(n)){const s=null;for(let r=0;r<n.length;r++)J(t,`${e}_${r}`,s,n[r])}else{const s=Object.keys(n);for(let r=0;r<s.length;r++){const i=s[r];J(t,`${e}_${r}`,i,n[i])}}}function q(e){const t=[];return F("",t,e),t}var G={download:P,get:H,safe:K,tree:q,vtk:Z,fmt:M};const W={};function X(e){const t={tts:0};return e.forEach((e=>{t[e]=0})),new(i())({data:t})}function Y(e,t){function n(e){for(let n=0;n<e.length;n++)t[e[n]]++}return e.$on("stateChange",n),()=>{e.$off("stateChange",n)}}function Q(e,t,n){const s={};return t.forEach((t=>{s[t]={get(){return n[t],e.state.get(t)},set(n){e.state.set(t,n)}}})),s}window.trame||(window.trame={}),window.trame.utils||(window.trame.utils=G),window.trame.state||(window.trame.state=W);const ee={},te={};async function ne(e,t){for(let n=0;n<e.length;n++)await t(e[n])}function se(e,t){const n=[],s={};for(let a=0;a<e.length;a++){let t=n,r=e[a];if(Array.isArray(r)){const e=r[1].serial;e&&(s[e]||(s[e]=[]),t=s[e]),[r]=r}t.push(r)}const r=n.map(t),i=Object.values(s);for(let a=0;a<i.length;a++)r.push(ne(i[a],t));return Promise.all(r)}async function re(e,t,n=[]){const s=e=>!n.includes(e);e.includes("trame__styles")&&await se(t.trame__styles.filter(s),$.j),e.includes("trame__scripts")&&await se(t.trame__scripts.filter(s),$.ve),e.includes("trame__vue_use")&&t.trame__vue_use.forEach((e=>{let t=e,s={};Array.isArray(e)&&([t,s]=e);let r=G.get(t);r?te[t]||n.includes(t)||(te[t]=!0,r.default&&(r=r.default),console.info(`Vue.use(${t}, ${JSON.stringify(s)}) - ${!!r} - install(${!!r.install})`),r.install?(i().use(r,s),r.getOptions&&Object.assign(ee,r.getOptions())):i().use({install:r},s)):console.error(`Lookup error: Vue.use(${t}, ${JSON.stringify(s)})`)})),e.includes("trame__favicon")&&t.trame__favicon&&(document.querySelector("link[rel=icon]").href=t.trame__favicon),e.includes("trame__title")&&t.trame__title&&(document.title=t.trame__title)}class ie{constructor(e,t=null,n=[]){this.name="Default trame application",this.vueInstance=e,this.client=(null===e||void 0===e?void 0:e.client)||t,this.exclude=(null===e||void 0===e?void 0:e.exclude)||n,this.subscriptions=[],this.state={},this.keyTS={},this.ts=0,this.trameTemplateTS=0,this.trameTemplate={template:"<div>Too early for trame template</div>"},this.dirtyKeys=new Set,this.registerDecorator=N;const s=async e=>{const t=[],n=Object.keys(e);for(let a=0;a<n.length;a++){var s;let r=!0;const i=n[a],o=e[i];if(null!==o&&void 0!==o&&null!==(s=o._filter)&&void 0!==s&&s.length){r=!1;const e=this.state[i],t=Object.keys(o);for(let n=0;!r&&n<t.length;n++){const s=t[n];"_"!==s[0]&&(void 0!==e&&e[s]===o[s]||(r=!0))}}r&&(t.push(i),this.state[i]=o)}this.ts+=1;let r=0;for(let a=0;a<t.length;a++){const e=t[a];void 0===this.keyTS[e]&&r++,this.keyTS[e]=this.ts}var i;if((await re(t,this.state,this.exclude),r&&(this.updateTrameTemplate(),this.vueInstance&&this.vueInstance.$emit("trameTemplateChange",this.trameTemplateTS)),this.vueInstance)&&(this.vueInstance.$emit("stateChange",t),this.vueInstance.$router&&null!==e&&void 0!==e&&null!==(i=e.trame__routes)&&void 0!==i&&i.length)){const t=this.vueInstance.$router;e.trame__routes.forEach((e=>{t.addRoute(e)}))}};this.subscriptions.push(this.client.getRemote().Trame.subscribeToStateUpdate((([e])=>s(e)))),this.client.getRemote().Trame.getState().then((({state:t,name:n})=>{this.name=n,s(t),e&&(e.ready=!0)})),this._updateFromServer=s}updateTrameTemplate(){if(!this.vueInstance)return;this.trameTemplateTS+=1;const e=Object.keys(this.state),t=X(e),n=Y(this.vueInstance,t),r=Q(this.vueInstance,e,t);let i=0;this.trameTemplate={name:"TrameTemplateInternal",inject:["trame"],props:{templateName:{type:String,default:"main"}},components:{VRuntimeTemplate:x.Z},computed:(0,s.Z)((0,s.Z)({},r),{},{contentTemplate(){const e=`trame__template_${this.templateName}`;return this[e]||`<div>No state variable for ${e} with the following state.<br><pre>${JSON.stringify(this.trame.state.get(),null,2)}</pre></div>`},tts(){return t.tts},utils(){return G}}),watch:{contentTemplate(){setTimeout((()=>t.tts+=1),10)}},methods:{set(e,t){return this.trame.state.set(e,t)},get(e=null){return this.trame.state.get(e)},setAll(e){return this.trame.state.update(e)},flushState(...e){return this.trame.state.flush(...e)},registerDecorator(...e){return this.trame.state.registerDecorator(...e)},async trigger(e,t=[],n={}){let s=[];const r={};if(t){const e=t.map((e=>V(e)));s=await Promise.all(e)}if(n){const e=[],t=[];Object.entries(n).forEach((n=>{e.push(n[0]),t.push(V(n[1]))}));const s=await Promise.all(t);for(let n=0;n<e.length;n++)r[e[n]]=s[n]}return await this.trame.client.getRemote().Trame.trigger(e,s,r)},getRef(e){const{trameTemplateRootRef:t}=this.$refs;return t.$refs&&t.$refs[e]?t.$refs[e]:t.$children[0].$refs[e]},execAction(e){const{ref:t,type:n}=e,s=this.getRef(t);if(s&&"method"===n){const{method:t,args:n}=e;s[t](...n)}if(s&&"property"===n){const{property:t,value:n}=e;s[t]=n}}},created(){i++,this.onActions=([e])=>{for(let t=0;t<e.length;t++)this.execAction(e[t])},this.clientSub=this.trame.client.getRemote().Trame.subscribeToActions(this.onActions),W.set=(e,t)=>this.set(e,t),W.get=e=>this.get(e),W.setAll=e=>this.setAll(e),W.flushState=(...e)=>this.flushState(...e),W.registerDecorator=(...e)=>this.registerDecorator(...e),W.trigger=async(e,t=[],n={})=>this.trigger(e,t,n)},beforeDestroy(){i--,0===i&&n(),this.trame.client.getRemote().Trame.unsubscribe(this.clientSub)},template:'<v-runtime-template ref="trameTemplateRootRef" :template="contentTemplate" />'}}delete(){while(this.subscriptions.length)this.client.getRemote().Trame.unsubscribe(this.subscriptions.pop())}get(e){return void 0===e?this.state:this.state[e]}getTimeStamp(e){return this.keyTS[e]||0}async set(e,t){this.state[e]!==t&&(this.ts+=1,this.state[e]=t,this.keyTS[e]=this.ts,this.dirty(e),await this.flush())}async update(e){this.ts+=1;for(const[t,n]of Object.entries(e))this.state[t]!==n&&(this.state[t]=n,this.keyTS[t]=this.ts,this.dirty(t));await this.flush()}canDirty(e){return!this.state.trame__client_only.includes(e)}dirty(...e){e.forEach((e=>{this.canDirty(e)&&this.dirtyKeys.add(e),this.vueInstance&&this.vueInstance.$emit("stateChange",[e])}))}async flush(...e){if(e.length&&e.forEach((e=>{Array.isArray(e)?this.dirty(...e):this.dirty(e)})),this.dirtyKeys.size&&!this.client.isBusy()){const e=[],t=[];this.dirtyKeys.forEach((n=>{e.push(V(this.state[n])),t.push(n)})),this.dirtyKeys.clear();const n=await Promise.all(e),s=t.map(((e,t)=>({key:e,value:n[t]})));await this.client.getRemote().Trame.updateState(s),this.dirtyKeys.size&&this.flush()}this.vueInstance&&!this.vueInstance.connected&&this._updateFromServer(this.state)}}var ae={name:"TrameConnect",props:{name:{type:String,default:"TrameConnect"},config:{type:Object,default:()=>({application:"trame"})},exclude:{type:Array,default:()=>[]},useUrl:{type:Boolean,default:!1},forwardErrors:{type:Boolean,default:!1}},data(){return{ready:!1,connected:!1,busy:1,status:{type:"created",message:"Connecting..."}}},async created(){await this.connect()},beforeDestroy(){this.client.getRemote().Trame.lifeCycleUpdate("client_unmounted");while(this.subscriptions.length)this.subscriptions.pop().unsubscribe();this.state&&(this.state.delete(),this.state=null)},methods:{reportError(e="Something unexpected happened..."){var t,n;let s="trame__template_main";this.useUrl&&u.Z.extractURLParameters().ui&&(s=`trame__template_${u.Z.extractURLParameters().ui}`),null!==this&&void 0!==this&&null!==(t=this.client)&&void 0!==t&&null!==(n=t.getConfig())&&void 0!==n&&n.reconnect?this.state.set(s,`<trame-reconnect message="${e}"/>`):this.state.set(s,`<trame-loading message="${e}"/>`)},async connect(){if(!this.connected){if(this.client){this.previousConfig=this.client.getConfig();while(this.subscriptions.length)this.subscriptions.pop().unsubscribe();this.state&&(this.state.delete(),this.state=null),S.resetClient(this.name)}if(this.subscriptions=[],this.client=S.getClient(this.name),this.subscriptions.push(this.client.onBusyChange((e=>{const t=!e!==!this.busy;this.busy=e,t&&this.state&&this.state.set("trame__busy",e),0===e&&this.state.flush(),t&&this.$emit("busyChange",e)}))),this.subscriptions.push(this.client.onConnectionError((e=>{var t,n;this.connected=!1,this.status={type:"Connection error",message:null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.error},this.reportError((null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.error)||"Connection error"),this.$emit("statusChange",this.status)}))),this.subscriptions.push(this.client.onConnectionClose((e=>{var t,n;this.connected=!1,this.status={type:"Connection closed",message:null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.error},this.reportError((null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.error)||"Connection closed"),this.$emit("statusChange",this.status)}))),this.client.isConnected())this.status=S.getStatus(this.name),this.$emit("statusChange",this.status);else{const e=this.previousConfig||S.configDecorator((0,s.Z)((0,s.Z)({},this.config),{},{useUrl:this.useUrl}));await this.client.connect(e),this.lastConfig=this.client.getConfig(),L(this.client.getConnection().getSession().addAttachment),this.status={type:"Connected"}}if(this.connected=this.client.isConnected(),this.busy=this.client.isBusy(),this.$emit("statusChange",this.status),this.connected&&(this.state=new ie(this)),this.client.getRemote().Trame.lifeCycleUpdate("client_connected"),window.addEventListener("beforeunload",(()=>this.client.getRemote().Trame.lifeCycleUpdate("client_exited"))),this.forwardErrors){const e=console.error;console.error=(...t)=>{try{this.client.getRemote().Trame.sendError(t.join(" "))}catch(n){e(n)}finally{e(...t)}},window.addEventListener("error",(e=>{console.error(`${e.type}: ${e.message}`)}))}}},async trigger(e,t=[],n={}){let s=[];const r={};if(t){const e=t.map((e=>V(e)));s=await Promise.all(e)}if(n){const e=[],t=[];Object.entries(n).forEach((n=>{e.push(n[0]),t.push(V(n[1]))}));const s=await Promise.all(t);for(let n=0;n<e.length;n++)r[e[n]]=s[n]}return await this.client.getRemote().Trame.trigger(e,s,r)}},provide(){return{trame:this}}},oe=ae,le=n(1001),ce=(0,le.Z)(oe,l,c,!1,null,null,null),ue=ce.exports,he=function(){var e=this,t=e._self._c;return t("trame-template-internal",{key:e.trameTemplateTS,attrs:{templateName:e.tName}})},me=[],de={name:"TrameServerTemplate",inject:["trame"],props:{templateName:{type:String,default:"main"},urlKey:{type:String,default:"ui"},useUrl:{type:Boolean,default:!1}},data(){return{trameTemplateTS:0}},computed:{tName(){return this.useUrl&&u.Z.extractURLParameters()[this.urlKey]?u.Z.extractURLParameters()[this.urlKey]:this.templateName}},created(){this.onNewTemplate=()=>{this.$options.components.trameTemplateInternal=this.trame.state.trameTemplate,this.trameTemplateTS=this.trame.state.trameTemplateTS},this.trame.$on("trameTemplateChange",this.onNewTemplate),this.onNewTemplate()},beforeDestroy(){this.trame.$off("trameTemplateChange",this.onNewTemplate)}},pe=de,fe=(0,le.Z)(pe,he,me,!1,null,null,null),ye=fe.exports,ge={name:"App",components:{TrameConnect:ue,TrameServerTemplate:ye}},ve=ge,be=(0,le.Z)(ve,a,o,!1,null,null,null),we=be.exports,Te=function(){var e=this,t=e._self._c;return t("div",{class:e.$style.container},[t("div",{class:e.$style.loader}),t("div",{class:e.$style.message},[e._v(" "+e._s(e.message)+" ")])])},_e=[],Ce={name:"Loading",props:{message:{type:String,default:"Loading..."}}},Se=Ce,$e={container:"style_container_VCsHx",loader:"style_loader_CNsNi",spin:"style_spin_BAaPb",message:"style_message_rmggO"};function xe(e){this["$style"]=$e.locals||$e}var Re=(0,le.Z)(Se,Te,_e,!1,xe,null,null),Oe=Re.exports,Le=function(){var e=this,t=e._self._c;return t("div",{class:e.$style.container},[t("div",{class:e.$style.center},[t("div",{class:e.$style.button,on:{click:e.reconnect}},[t("svg",{staticStyle:{width:"24px"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M4,1C2.89,1 2,1.89 2,3V7C2,8.11 2.89,9 4,9H1V11H13V9H10C11.11,9 12,8.11 12,7V3C12,1.89 11.11,1 10,1H4M4,3H10V7H4V3M14,13C12.89,13 12,13.89 12,15V19C12,20.11 12.89,21 14,21H11V23H23V21H20C21.11,21 22,20.11 22,19V15C22,13.89 21.11,13 20,13H14M3.88,13.46L2.46,14.88L4.59,17L2.46,19.12L3.88,20.54L6,18.41L8.12,20.54L9.54,19.12L7.41,17L9.54,14.88L8.12,13.46L6,15.59L3.88,13.46M14,15H20V19H14V15Z"}})]),e._v(" "+e._s(e.message)+" ")])])])},Ue=[],Ae={name:"Reconnect",props:{message:{type:String,default:"Click to reconnect..."},maxRetry:{type:Number,default:10},delay:{type:Number,default:500}},methods:{async reconnect(){await this.trame.connect()},resetRetry(){this.interval&&(clearInterval(this.interval),this.interval=null)}},mounted(){var e,t,n;this.retryCount=0;const s=null===(e=this.trame)||void 0===e||null===(t=e.client)||void 0===t||null===(n=t.getConfig())||void 0===n?void 0:n.reconnect;s&&(console.log("reconnect",s),"auto"===s&&(this.interval=setInterval((()=>{this.retryCount++<this.maxRetry?this.reconnect():this.resetRetry()}),this.delay)))},beforeDestroy(){this.resetRetry()},inject:["trame"]},ke=Ae,je={container:"style_container_n4xKQ",center:"style_center_xzh58",button:"style_button_kGhdk"};function Ne(e){this["$style"]=je.locals||je}var Ve=(0,le.Z)(ke,Le,Ue,!1,Ne,null,null),Ee=Ve.exports,Be=function(){var e=this;e._self._c;return e._t("default",null,null,e.state)},Ze=[];function Ie(...e){const t={};for(let n=0;n<e.length;n++)t[e[n]]=null;return t}function De(e,t,...n){return s=>{const{state:r}=e,i=new Set(s);for(let e=0;e<n.length;e++){const s=n[e];i.has(s)&&(t[s]=r.get(s))}}}var Me={inject:["trame"],name:"TrameStateResolver",props:{names:{type:Array,default:()=>[]}},data(){return Ie(...this.names)},computed:{state(){const e={trame:this.trame,set:(...e)=>this.trame.state.set(...e)};for(let t=0;t<this.names.length;t++){const n=this.names[t];e[n]=this[n]}return e}},created(){this.onStateChange=De(this.trame,this,...this.names),this.trame.$on("stateChange",this.onStateChange),this.onStateChange(this.names)},beforeDestroy(){this.trame.$off("stateChange",this.onStateChange)},provide(){return{state:this}}},Pe=Me,He=(0,le.Z)(Pe,Be,Ze,!1,null,null,null),Ke=He.exports;let ze=1;function Je(){return"trame_style_elem_"+ze++}var Fe,qe,Ge={name:"TrameStyle",props:{css:{type:String,default:""}},watch:{css(e){this.updateStyle(e)}},created(){this.elemId=Je(),this.updateStyle(this.css)},beforeDestroy(){this.removeStyle()},methods:{updateStyle(e){let t=document.querySelector(`#${this.elemId}`);e?(t||(t=document.createElement("style"),t.id=this.elemId,document.head.appendChild(t)),t.innerHTML=e):this.removeStyle()},removeStyle(){const e=document.querySelector(`#${this.elemId}`);e&&e.parentNode.removeChild(e)}}},We=Ge,Xe=(0,le.Z)(We,Fe,qe,!1,null,null,null),Ye=Xe.exports,Qe={name:"TrameExec",props:["event"],methods:{exec(e){void 0===e?this.$emit("exec",this.event):this.$emit("exec",e)}}};n(2176),n(7961);const{inject:et,ref:tt,onBeforeMount:nt,onBeforeUnmount:st,watch:rt}=window.Vue;var it={props:["name"],setup(e){const t=et("trame"),n=tt(null),s=tt(null);function r(n,s){const r=JSON.parse(JSON.stringify(t.state.get(e.name)));let i=r;const a=String(n).split(".");for(let e=0;e<a.length-1;e++)i=i[a[e]];i[a.at(-1)]=s,t.state.set(e.name,r)}function i(n){t.state.set(e.name,n)}function a(){const r=t.state.get(e.name);s.value!==e.name&&(s.value=e.name),r!==n.value&&(n.value=r)}return rt((()=>e.name),a),nt((()=>{t.$on("stateChange",a),a()})),st((()=>{t.$off("stateChange",a)})),{computedValue:n,computedName:s,updateNested:r,update:i}},template:'<slot :keyName="computedName" :update="update" :updateNested="updateNested" :value="computedValue"></slot>'};const{watch:at,nextTick:ot}=window.Vue;var lt={props:{value:{type:String},immediate:{type:Boolean,default:!1},triggerChangeOnCreate:{type:Boolean,default:!1}},emits:["change"],setup(e,{emit:t}){at((()=>e.value),(n=>{e.immediate?t("change",n):ot((()=>{t("change",n)}))})),e.triggerChangeOnCreate&&t("change",e.value)}};const{onMounted:ct,onBeforeUnmount:ut}=window.Vue;var ht={emits:["mounted","created","beforeDestroy","beforeUnmount","exit"],setup(e,{emit:t,expose:n}){function s(e,n){t(e,n)}return ct((()=>t("mounted"))),ut((()=>{t("beforeDestroy"),t("beforeUnmount")})),n({emit:s}),window.addEventListener("beforeunload",(()=>{t("exit")})),t("created"),{emit:s}}};const{onMounted:mt,onUpdated:dt,onUnmounted:pt,onBeforeMount:ft,onBeforeUpdate:yt,onBeforeUnmount:gt}=window.Vue;function vt(e){e()}const bt={created:vt,beforeMount:ft,mounted:mt,beforeUpdate:yt,updated:dt,beforeDestroy:gt,destroyed:pt};var wt={props:{name:{type:String,default:"LifeCycleMonitor"},type:{type:String,default:"log"},value:{type:String,default:"value"},events:{type:Array,default:()=>["created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed"]}},emits:Object.keys(bt),setup(e,{emit:t}){for(let n=0;n<e.events.length;n++){const s=e.events[n],r=bt[s];r((()=>{"emit"===e.type?t(s,{name:e.name,value:e.value}):console[e.type](e.name,s,e.value)}))}}};const{inject:Tt,ref:_t,onMounted:Ct,onBeforeUnmount:St}=window.Vue;var $t={props:{name:{type:String}},emits:["change"],setup(e,{emit:t}){const n=Tt("trame"),s=_t(null);function r(){const{x:r,y:i,width:a,height:o}=s.value.getBoundingClientRect(),l={x:r,y:i,width:a,height:o},c=window.devicePixelRatio,u=96*c,h={size:l,pixelRatio:c,dpi:u};e.name&&(h.name=e.name),n&&n.state.set(e.name,h),t("change",h)}const i=new ResizeObserver(r);return Ct((()=>{i.observe(s.value)})),St((()=>{i.unobserve(s.value)})),{elem:s,resize:r}},template:'<div ref="elem" style="overflow: hidden; position: relative; width: 100%; height: 100%; margin: 0; padding: 0;"><slot></slot></div>'},xt={TrameApp:we,TrameConnect:ue,TrameLoading:Oe,TrameReconnect:Ee,TrameTemplate:ye,TrameStateResolver:Ke,TrameStyle:Ye,TrameExec:Qe,TrameGetter:it,TrameClientStateChange:lt,TrameClientTriggers:ht,TrameLifeCycleMonitor:wt,TrameSizeObserver:$t},Rt={install(e){Object.keys(xt).forEach((t=>{e.component(t,xt[t])}))}};const Ot="TrameConnect";function Lt(){const e=S.getStatus(Ot),t=document.querySelector(".trame__message");t?t.innerHTML=e.message||e.type:console.error("WsError",e.message||e.type)}async function Ut(e){try{var t,n,r;null!==(t=window)&&void 0!==t&&null!==(n=t.parent)&&void 0!==n&&null!==(r=n.trameJupyter)&&void 0!==r&&r.init&&(window.WSLINK=window.parent.trameJupyter.init(window))}catch(o){}e.use(Rt);const i=S.getClient(Ot);try{await i.connect(S.configDecorator({application:"trame",useUrl:!0}))}catch(o){return void Lt()}i.onConnectionError(Lt),i.onConnectionClose(Lt),L(i.getConnection().getSession().addAttachment);const{state:a}=await i.getRemote().Trame.getState();await re(Object.keys(a),a),new e((0,s.Z)((0,s.Z)({},ee),{},{render:e=>e(we)})).$mount("#app")}Ut(i())}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,s,r,i){if(!s){var a=1/0;for(u=0;u<e.length;u++){s=e[u][0],r=e[u][1],i=e[u][2];for(var o=!0,l=0;l<s.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](s[l])}))?s.splice(l--,1):(o=!1,i<a&&(a=i));if(o){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[s,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,i,a=s[0],o=s[1],l=s[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)var u=l(n)}for(t&&t(s);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},s=self["webpackChunktrame_app_vue2"]=self["webpackChunktrame_app_vue2"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(7660)}));s=n.O(s)})();
//# sourceMappingURL=app.7d0e64a7.js.map