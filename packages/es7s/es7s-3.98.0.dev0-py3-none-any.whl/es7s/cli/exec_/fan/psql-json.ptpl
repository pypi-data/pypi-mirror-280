[[POSTGRESQL JSON OPERATORS]]

â•”â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ OPÂ¹ â•‘ ROÂ² TYPE â•‘ RESULT â•‘ DESCRIPTION                                  â•‘ EXAMPLE                                    â•‘
â•šâ•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”ƒ ->  â”‚ int/text â”‚ json+  â”‚ Get element by index/key                     â”‚ WHERE (data->'users'->0)::int              â”ƒ
â”ƒ ->> â”‚ int/text â”‚ text   â”‚ Get element by index/key as text             â”‚ SELECT data->>'model'                      â”ƒ
â”ƒ #>  â”‚ text[]   â”‚ json+  â”‚ Get element by path                          â”‚ WHERE (data#>'{model,id}')::int            â”ƒ
â”ƒ #>> â”‚ text[]   â”‚ text   â”‚ Get element by path as text                  â”‚ SELECT data#>>'{model,user_ids}'           â”ƒ
â”£â”â”â”â”â”â”¿â”â”â”â”â”â”â”â”â”â”â”¿â”â”â”â”â”â”â”â”â”¿â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”¿â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ @>  â”‚ json+    â”‚ bool   â”‚ Does LOÂ³ contain RO entries at top level?    â”‚'{"a":1, "b":2}'::jsonb @> '{"b":2}'::jsonb â”ƒ
â”ƒ <@  â”‚ json+    â”‚ bool   â”‚ Are LO entries contained at top level in RO? â”‚'{"b":2}'::jsonb <@ '{"a":1, "b":2}'::jsonb â”ƒ
â” â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¨
â”ƒ ?   â”‚ text     â”‚ bool   â”‚ Does RO exist as top-level key within LO?    â”‚'{"a":1, "b":2}'::jsonb ? 'b'               â”ƒ
â”ƒ ?|  â”‚ text[]   â”‚ bool   â”‚ Do ANY of strings exist as top-level keys?   â”‚'{"a":1, "b":2}'::jsonb ?| '{b,c}'          â”ƒ
â”ƒ ?&  â”‚ text[]   â”‚ bool   â”‚ Do ALL of strings exist as top-level keys?   â”‚'["a", "b"]'::jsonb ?& '{a,b}'              â”ƒ
â” â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¨
â”ƒ ||  â”‚ json+    â”‚ json+  â”‚ Concatenate two json+ values into new json+  â”‚'["a", "b"]'::jsonb || '["c", "d"]'::jsonb  â”ƒ
â” â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¨
â”ƒ -   â”‚ int      â”‚ json+  â”‚ Deleteâ´ element with specified index from LO â”‚'["a", "b"]'::jsonb - 1                     â”ƒ
â”ƒ -   â”‚ text     â”‚ json+  â”‚ Deleteâµ K/V pair or string element from LO   â”‚'{"a": "b"}'::jsonb - 'a'                   â”ƒ
â”ƒ #-  â”‚ text[]   â”‚ json+  â”‚ Delete element with specified path from LO   â”‚'["a", {"b":1}]'::jsonb #- '{1,b}'          â”ƒ
â”—â”â”â”â”â”â”·â”â”â”â”â”â”â”â”â”â”â”·â”â”â”â”â”â”â”â”â”·â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”·â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  Â¹ operator         â´ throws an error if top level      â”‚ For JSON arrays,   â”‚â”‚ Left operand is always json or jsonb â”‚
  Â² right operand      container is not an array         â”‚ negative integers  â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  Â³ left operand     âµ pairs are matched based on key    â”‚ count from the end â”‚â”‚  "json+" shall be read as "LO type"  â”‚
                                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

(?<=[\s>])(\d+)[94m\1[39m
(?m)^\[\[(.+)\]\]$[38;5;231;1m\1[39;22m
\b(json)(\+)[34m\1[36mb[39m
\b(int|text|jsonb?|array|bool)\b[34m\1[39m
\b(data)\b[35m\1[39m
\b(ANY|ALL)\b[1m\1[22m
\b(WHERE|SELECT)\b|(::)[31m\1\2[22m
(->+|#>+|<@|@>)[33m\1[39m
(?<=\s)(\?[|&]?|\|\||#?-)(?=\s)[33m\1[39m
('.+?')[32m\1[39m
([()])[1;93m\1[22;39m
(?<!['])([][])(?!')[94m\1[39m
